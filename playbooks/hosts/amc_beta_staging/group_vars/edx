---
EDXAPP_LMS_ENV: 'lms.envs.amc'
EDXAPP_CMS_ENV: 'cms.envs.amc'

EDXAPP_AUTH_EXTRA:
  APPSEMBLER_SECRET_KEY: "secret_key"
  APPSEMBLER_AMC_API_BASE: ""
  MAILGUN_ACCESS_KEY: ""
  MAILGUN_SERVER_NAME: ""

edx_platform_repo: "https://github.com/appsembler/edx-platform.git"
edx_ansible_source_repo: "https://github.com/appsembler/configuration"

EDX_VERSION: named-release/dogwood
edx_platform_version: "appsembler/amc/feature/db-microsites"
configuration_version: "appsembler/amc/beta"
certs_version: "{{ EDX_VERSION | default('named-release/dogwood.rc') }}"
forum_version: "{{ EDX_VERSION | default('named-release/dogwood.rc') }}"
xqueue_version: "{{ EDX_VERSION | default('named-release/dogwood.rc') }}"
INSIGHTS_VERSION: "{{ EDX_VERSION | default('named-release/dogwood.rc') }}"

EDXAPP_FEATURES:
  AUTH_USE_OPENID_PROVIDER: true  # default: true
  ENABLE_OAUTH2_PROVIDER: true  # default: false
  ALLOW_ALL_ADVANCED_COMPONENTS: true  # default: false
  ENABLE_SYSADMIN_DASHBOARD: True  # default: false
  #ENABLE_CREATOR_GROUP: true  # default: false
  CERTIFICATES_ENABLED: true  # default: true
  ENABLE_DISCUSSION_SERVICE: true  # default: true
  ENABLE_INSTRUCTOR_ANALYTICS: false  # default: false
  SUBDOMAIN_BRANDING: false  # default: false
  SUBDOMAIN_COURSE_LISTINGS: false  # default: false
  PREVIEW_LMS_BASE: "{{ EDXAPP_PREVIEW_LMS_BASE }}"
  ENABLE_S3_GRADE_DOWNLOADS: true  # default: true
  USE_CUSTOM_THEME: "{{ edxapp_use_custom_theme }}"
  ENABLE_MKTG_SITE: "{{ EDXAPP_ENABLE_MKTG_SITE }}"  # default: false
  AUTOMATIC_AUTH_FOR_TESTING: "{{ EDXAPP_ENABLE_AUTO_AUTH }}"  # default: false
  ENABLE_THIRD_PARTY_AUTH: "{{ EDXAPP_ENABLE_THIRD_PARTY_AUTH }}" # default: false
  ENABLE_VIDEO_UPLOAD_PIPELINE: false  # default: false
  ENABLE_DISCUSSION_HOME_PANEL: true  # default: true
  ENABLE_CONTENT_LIBRARIES: true  # default: true
  #search features in CMS
  ENABLE_COURSEWARE_INDEX: true  # default: false
  ENABLE_LIBRARY_INDEX: true  # default: false
  #search features in LMS
  ENABLE_COURSEWARE_SEARCH: true  # default: false
  ENABLE_DASHBOARD_SEARCH: true  # default: false
  ENABLE_COURSE_DISCOVERY: false # default: false
  #changes for matej's design
  ENABLE_COMBINED_LOGIN_REGISTRATION: true  # default: true
  DISABLE_COURSE_CREATION: true
  ORGANIZATIONS_APP: true
  USE_MICROSITES: true

EDXAPP_REGISTRATION_EXTRA_FIELDS:
  level_of_education: "hidden"
  gender: "hidden"
  year_of_birth: "hidden"
  mailing_address: "hidden"
  goals: "hidden"
  honor_code: "hidden"
  city: "hidden"
  country: "hidden"
  terms_of_service: "required"

EDXAPP_PLATFORM_NAME: "Appsembler Academy"
COMMON_ENVIRONMENT: "default-env"
COMMON_DEPLOYMENT: "default-staging"

EDXAPP_INSTALL_PRIVATE_REQUIREMENTS: true
EDXAPP_EXTRA_REQUIREMENTS:
  - name: git+https://github.com/METIT-BU/xblock-carousel.git#egg=carousel
  - name: git+https://github.com/edx-solutions/xblock-discussion.git#egg=discussion
  - name: git+https://github.com/edx-solutions/xblock-drag-and-drop-v2.git#egg=drag-and-drop-v2
  - name: git+https://github.com/open-craft/xblock-leaderboard.git#egg=leaderboard
  - name: git+https://github.com/hastexo/hastexo-xblock#egg=hastexo
  - name: git+https://github.com/edx-solutions/xblock-image-explorer.git#egg=image-explorer
  - name: git+https://github.com/Stanford-Online/xblock-image-modal.git#egg=image-modal
  - name: git+https://github.com/polimediaupv/cdfXblock.git#egg=cdf
  #- name: git+https://github.com/ExtensionEngine/xblock_3d_viewer.git#egg=mt3d-xblock
  - name: git+https://github.com/edx/edx-ora2.git#egg=ora2-xblock
  - name: git+https://github.com/polimediaupv/paellaXBlock.git#egg=paella
  - name: git+https://github.com/MarCnu/pdfXBlock.git#egg=pdf
  - name: git+https://github.com/IONISx/xblock-personality-test.git#egg=personality-test
  - name: git+https://github.com/schoolyourself/schoolyourself-xblock.git#egg=schoolyourself
  - name: git+https://github.com/MarCnu/videojsXBlock.git#egg=videojs
  - name: git+https://github.com/METIT-BU/xblock-carouselworkspace.git#egg=carouselworkspace
  - name: git+https://github.com/Stanford-Online/xblock-mufi.git#egg=mufi

## Theme
edxapp_use_custom_theme: true # false to disable & use std. theme
edxapp_theme_name: "amc-beta"
edxapp_theme_source_repo: "https://github.com/appsembler/edx-theme.git"
edxapp_theme_version: "appsembler/amc-beta" #branch

#disable analytics link in instructor dashboard
#EDXAPP_ANALYTICS_DASHBOARD_URL: ""  # if enabled: http://insights.examples.com

## NGINX Config
NGINX_ENABLE_SSL: false
NGINX_REDIRECT_TO_HTTPS: false
#NGINX_SSL_CERTIFICATE: "/Users/bezidejni/Documents/projekti/appsembler/appsembler.crt"
#NGINX_SSL_KEY: "/Users/bezidejni/Documents/projekti/appsembler/appsembler.key"
NGINX_SET_X_FORWARDED_HEADERS: True #set to True if not behind load balancer
EDXAPP_LMS_NGINX_PORT: 80
EDXAPP_LMS_SSL_NGINX_PORT: 443
EDXAPP_LMS_PREVIEW_NGINX_PORT: 80
EDXAPP_CMS_NGINX_PORT: 80
EDXAPP_CMS_SSL_NGINX_PORT: 443
CMS_HOSTNAME: '~^((stage|prod)-)?studio.*' #for redirect within nginx

nginx_sites:
  - certs
  - cms
  - lms
  - forum
  - xqueue
nginx_default_sites:
  - lms
#COMMON_HTPASSWD_USER: "user"
#COMMON_HTPASSWD_PASS: "password"
COMMON_ENABLE_BASIC_AUTH: False

NGINX_ROBOT_RULES:
  - { agent: '*', disallow: '/' }

## Base
EDXAPP_LMS_BASE: "lms.demosite.appsembler.com"
EDXAPP_PREVIEW_LMS_BASE: "preview.demosite.appsembler.com"
EDXAPP_CMS_BASE: "studio.demosite.appsembler.com"
CMS_HOSTNAME: "studio.demosite.appsembler.com"

## Site names
EDXAPP_SITE_NAME: "lms.demosite.appsembler.com"
EDXAPP_LMS_SITE_NAME: "lms.demosite.appsembler.com"
EDXAPP_CMS_SITE_NAME: "studio.demosite.appsembler.com"

## Social media
EDXAPP_PLATFORM_FACEBOOK_ACCOUNT: "https://www.facebook.com/appsembler"
EDXAPP_PLATFORM_TWITTER_ACCOUNT: "@appsembler"

## Email addresses
EDXAPP_CONTACT_EMAIL: "customerservice@appsembler.com"
EDXAPP_DEFAULT_FEEDBACK_EMAIL: "customerservice@appsembler.com"
EDXAPP_DEFAULT_FROM_EMAIL: "customerservice@appsembler.com"
EDXAPP_BUGS_EMAIL: "bugs@appsembler.com"
EDXAPP_BULK_EMAIL_DEFAULT_FROM_EMAIL: "customerservice@appsembler.com"
EDXAPP_PAYMENT_SUPPORT_EMAIL: "customerservice@appsembler.com"
EDXAPP_PRESS_EMAIL: "customerservice@appsembler.com"
EDXAPP_SERVER_EMAIL: "devops@appsembler.com"
EDXAPP_TECH_SUPPORT_EMAIL: "technical@appsembler.com"
EDXAPP_FEEDBACK_SUBMISSION_EMAIL: "customerservice@appsembler.com"
EDXAPP_UNIVERSITY_EMAIL: "customerservice@appsembler.com"

## Email backend
EDXAPP_EMAIL_BACKEND: "django.core.mail.backends.smtp.EmailBackend"
#EDXAPP_EMAIL_BACKEND: "django_ses.SESBackend"
#EDXAPP_EMAIL_HOST: "email-smtp.us-..."
#EDXAPP_EMAIL_PORT: 25
#EDXAPP_EMAIL_HOST_USER: "xxxxxx"
#EDXAPP_EMAIL_HOST_PASSWORD: "xxxxx"
#EDXAPP_EMAIL_USE_TLS: true

# AWS S3 configuration
#EDXAPP_AWS_ACCESS_KEY_ID: "xxxxx"
#EDXAPP_AWS_SECRET_ACCESS_KEY: "xxxxx"
#EDXAPP_AWS_STORAGE_BUCKET_NAME: "edx-NAME-bucket"

#grade downloads
#EDXAPP_GRADE_BUCKET: "edx-NAME-grade-bucket"
#EDXAPP_GRADE_STORAGE_TYPE: "S3"
#EDXAPP_GRADE_ROOT_PATH: "grades"

# Setting up New Relic
#COMMON_ENABLE_NEWRELIC: True
#COMMON_ENABLE_NEWRELIC_APP: True
#NEWRELIC_LICENSE_KEY: "7dcd78abdd031b2de669651f058b13df573e3f09"

# gunicorn workers
EDXAPP_WORKERS:
  lms: 5
  cms: 1

# celery workers
EDXAPP_BROKER_HEARTBEAT: 0

EDXAPP_CELERY_WORKERS:
  - queue: low
    service_variant: cms
    concurrency: 1
    monitor: true
  - queue: default
    service_variant: cms
    concurrency: 1
    monitor: true
  - queue: high
    service_variant: cms
    concurrency: 1
    monitor: true
  - queue: low
    service_variant: lms
    concurrency: 1
    monitor: true
  - queue: default
    service_variant: lms
    concurrency: 1
    monitor: true
  - queue: high
    service_variant: lms
    concurrency: 1
    monitor: true
  - queue: high_mem
    service_variant: lms
    concurrency: 1
    monitor: true

# time zone
TIME_ZONE: 'America/New_York'
ANALYTICS_API_TIME_ZONE: "{{ TIME_ZONE }}"
COURSE_DISCOVERY_TIME_ZONE: "{{ TIME_ZONE }}"
ECOMMERCE_TIME_ZONE: "{{ TIME_ZONE }}"
EDXAPP_TIME_ZONE: "{{ TIME_ZONE }}"
INSIGHTS_TIME_ZONE: "{{ TIME_ZONE }}"
PROGRAMS_TIME_ZONE: "{{ TIME_ZONE }}"

# oauth/https settings
EDXAPP_OAUTH_ENFORCE_SECURE: false
EDXAPP_LMS_BASE_SCHEME: 'http'

# notes fix
edx_notes_api_requirements:
  - base.txt
